:root {
  --bg:#0b1220;
  --card:#0f172a;
  --soft:#111827;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --border:#1f2937;
  --primary:#6EE7F9;
  --accent:#8B5CF6;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}

.container{max-width:1200px; margin:0 auto; padding:16px;}
.card{background:var(--card); border:1px solid var(--border); border-radius:18px; box-shadow:0 10px 30px rgba(0,0,0,.25);}
.section{margin:16px 0; padding:16px;}
.section-title{font-size:20px; font-weight:600; margin:10px 0 6px;}
.text-muted{color:var(--muted)}
.row{display:flex; align-items:center; justify-content:space-between; gap:12px;}

.btn{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; border:1px solid var(--border); color:var(--text); background:var(--card); cursor:pointer}
.btn:hover{filter:brightness(1.1)}
.btn-primary{
  background-image:linear-gradient(90deg,var(--primary),var(--accent));
  border:0; color:#0b1220; font-weight:600;
}

.searchbar{display:flex; align-items:center; gap:8px; padding:8px 12px; border:1px solid var(--border); border-radius:10px; background:var(--card); min-width:260px;}
.searchbar input{background:transparent; border:0; outline:0; color:var(--text); width:240px}
.searchbar input::placeholder{color:var(--muted)}

.grid{display:grid; gap:12px}
.grid.auto{grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}
.poster{border-radius:14px; overflow:hidden; border:1px solid var(--border)}
.poster img{display:block; width:100%; height:140px; object-fit:cover}
.poster .p{padding:10px}
.poster .title{font-weight:600}

/* Header */
.header{position:sticky; top:0; z-index:40; backdrop-filter:saturate(1.1) blur(6px);
  background:color-mix(in oklab, var(--bg) 78%, transparent); border-bottom:1px solid var(--border)}
.header-inner{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:10px 16px; max-width:1200px; margin:0 auto}
.brand{display:flex; align-items:center; gap:10px}
.brand img{width:36px; height:36px; border-radius:10px}
.brand h1{font-size:22px; margin:0; letter-spacing:.4px}
.brand small{display:block; color:var(--muted); margin-top:-2px}

/* Side rail (desktop) + Bottom bar (mobile) */
.nav{position:fixed; left:0; right:0; bottom:0; display:flex; justify-content:space-around; padding:6px 6px; border-top:1px solid var(--border);
  background:color-mix(in oklab, var(--bg) 92%, transparent); backdrop-filter:blur(6px); z-index:60;}
@media (min-width:880px){
  .nav{top:0; bottom:0; right:auto; width:70px; border-top:0; border-right:1px solid var(--border); flex-direction:column; align-items:center; padding:10px 6px}
}

.nav a{position:relative; display:flex; flex-direction:column; align-items:center; justify-content:center; width:64px; height:48px; color:var(--muted); text-decoration:none; transition:.2s}
.nav a .icon-wrap{display:flex; align-items:center; justify-content:center; transition:transform .2s}
.nav a .label{font-size:11px; margin-top:2px}
.nav a .underline{position:absolute; left:50%; bottom:2px; transform:translateX(-50%); height:3px; width:0; border-radius:999px; transition:width .25s ease}
.nav a.active{color:#fff}
.nav a.active .icon-wrap{transform:scale(1.15)}
.nav a.active .underline{width:40px; background-image:linear-gradient(90deg,var(--primary),var(--accent));}

/* Layout with nav reserved space on desktop */
.with-rail{padding-bottom:70px}
@media (min-width:880px){ .with-rail{margin-left:70px; padding-bottom:0} }

/* Chat */
.chat-wrap{position:relative; min-height:340px; border-radius:18px; overflow:hidden}
.chat-bg{position:absolute; inset:0; object-fit:cover; width:100%; height:100%; opacity:.22; filter:grayscale(.15)}
.chat-messages{position:relative; padding:12px; height:52vh; overflow:auto}
.bubble{display:inline-flex; max-width:75%; padding:8px 12px; border-radius:18px; font-size:14px}
.bubble.other{background:#1f2937; color:#ecfeff}
.bubble.self{background:#fff; color:#000; margin-left:auto}
.chat-input{position:absolute; left:10px; right:10px; bottom:10px; display:flex; gap:8px}
.chat-input input{flex:1; padding:8px 12px; border-radius:10px; border:1px solid var(--border); background:color-mix(in oklab, var(--bg) 90%, #000 0%) ; color:var(--text)}

/* Profiles */
.profiles{display:grid; grid-template-columns:repeat(2,1fr); gap:26px}
@media (min-width:880px){ .profiles{grid-template-columns:repeat(4,1fr)} }
.avatar{width:110px; height:110px; border-radius:999px; display:grid; place-items:center; font-size:34px; font-weight:700; color:#fff;
  background: radial-gradient(100% 100% at 30% 20%, var(--primary), var(--accent)); border:2px solid transparent}
.avatar.active{border-color:var(--primary)}

/* Settings */
.kv{display:flex; align-items:center; justify-content:space-between; gap:12px; margin:8px 0}
.input{padding:8px 10px; border:1px solid var(--border); border-radius:10px; background:var(--card); color:var(--text)}

/* Helpers */
.mt-1{margin-top:6px} .mt-2{margin-top:10px} .mt-3{margin-top:14px} .mb-2{margin-bottom:10px}
